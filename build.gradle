allprojects {
   repositories {
      maven { url "https://jitpack.io" }
   }
   gradle.projectsEvaluated {
      tasks.withType(JavaCompile) {
         options.compilerArgs << "-Xmaxerrs" << "400"
      }
   }
}

buildscript {
   ext.kotlin_version = '1.0.3'

   repositories {
      jcenter()
      maven { url 'https://maven.fabric.io/public' }
      maven { url "https://plugins.gradle.org/m2/" }
   }

   def androidPluginVersion = "2.2.0"
   def buildScriptPropertiesFile = rootProject.file('./buildscript.properties')
   Properties buildscriptProperties = new Properties()
   if (buildScriptPropertiesFile.exists()) {
      buildscriptProperties.load(new FileInputStream(buildScriptPropertiesFile))
      if (!buildscriptProperties.androidPluginVersion.asType(java.lang.String).isEmpty()) {
         androidPluginVersion = buildscriptProperties.androidPluginVersion
         logger.lifecycle("androidPluginVersion :: version used: ${androidPluginVersion}")
      }
   }

   dependencies {
      classpath 'com.android.tools.build:gradle:2.3.0'
      classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'
      classpath 'me.tatarka:gradle-retrolambda:3.3.1'
      //
      classpath 'de.felixschulze.gradle:gradle-hockeyapp-plugin:3.2'
      classpath "com.newrelic.agent.android:agent-gradle-plugin:5.8.4"
      //
      classpath 'com.github.ben-manes:gradle-versions-plugin:0.11.3'
      classpath 'io.fabric.tools:gradle:1.21.2'
      classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"

      classpath "net.ltgt.gradle:gradle-apt-plugin:0.8"
      classpath "ru.d10xa:gradle-allure-plugin:0.5.3"
      classpath 'com.github.ben-manes:gradle-versions-plugin:0.13.0'
   }

   ext {
      janetHttpVersion = '1.0.11'
      immutablesVersion = '2.3.9'
   }

   ///////////////////////////////////
   // Misc dependencies and properties
   ///////////////////////////////////

   // System properties
   ext.preDexLibs = !project.hasProperty('disablePreDex')
}

