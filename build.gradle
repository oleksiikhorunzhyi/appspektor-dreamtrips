allprojects {
   repositories {
      maven { url "https://jitpack.io" }
   }
}

buildscript {
   ext.kotlin_version = '1.0.3'

   repositories {
      jcenter()
      maven { url 'https://maven.fabric.io/public' }
   }

   def androidPluginVersion = "2.1.2"
   def buildScriptPropertiesFile = rootProject.file('./buildscript.properties')
   Properties buildscriptProperties = new Properties()
   if (buildScriptPropertiesFile.exists()) {
      buildscriptProperties.load(new FileInputStream(buildScriptPropertiesFile))
      if (!buildscriptProperties.androidPluginVersion.asType(java.lang.String).isEmpty()) {
         androidPluginVersion = buildscriptProperties.androidPluginVersion
         logger.lifecycle("androidPluginVersion :: version used: ${androidPluginVersion}")
      }
   }

   dependencies {
      classpath "com.android.tools.build:gradle:${androidPluginVersion}"
      classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'
      classpath 'me.tatarka:gradle-retrolambda:3.2.5'
      //
      classpath 'de.felixschulze.gradle:gradle-hockeyapp-plugin:3.2'
      classpath "com.newrelic.agent.android:agent-gradle-plugin:5.6.0"
      //
      classpath 'com.github.ben-manes:gradle-versions-plugin:0.11.3'
      classpath 'io.fabric.tools:gradle:1.21.2'
      classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
   }

   ///////////////////////////////////
   // Misc dependencies and properties
   ///////////////////////////////////

   // System properties
   ext.preDexLibs = !project.hasProperty('disablePreDex')
}

